<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ExercÃ­cios</title>
  <link rel="stylesheet" href="./projeto10.css">
  <link rel="icon" type="image/png" href="./img/logo.png">
</head>

<body>
  <div class="btt">
    <button class="avancar">ğŸ’° 25</button>
    <button class="circle"><a href="./index.html">01</a></button>
    <button class="circle"><a href="./projeto2.html">02</a></button>
    <button class="circle"><a href="./projeto3.html">03</a></button>
    <button class="circle"><a href="./projeto4.html">04</a></button>
    <button class="circle"><a href="./projeto5.html">05</a></button>
    <button class="circle"><a href="./projeto6.html">06</a></button>
    <button class="circle"><a href="./projeto7.html">07</a></button>
    <button class="circle"><a href="./projeto8.html">08</a></button>
    <button class="circle"><a href="./projeto9.html">09</a></button>
    <button class="circle"><a href="./projeto10.html">10</a></button>
    <button class="circle"><a href="./projeto11.html">11</a></button>
    <button class="circle"><a href="./projeto12.html">12</a></button>
    <button class="circle"><a href="./projeto13.html">13</a></button>
    <button class="circle"><a href="./projeto14.html">14</a></button>
    <button class="circle"><a href="./projeto15.html">15</a></button>
    <button class="avancar" onclick="toggleDarkMode()">ğŸ‘“</button>
  </div>

  <h1> RelÃ³gio de Ponto</h1>

  <div class="image">
    <img src="./img/relogioPonto.PNG" alt="" style="max-width: 500px;">
  </div>

  <div class="bloco">
    <h2>ğŸ¯ Objetivo do Projeto</h2>
    <pre>
 Criar um sistema de registro de ponto usando HTML, CSS e conceitos de objetos e construtor em JavaScript.
 
 O sistema deve permitir que o usuÃ¡rio registre os horÃ¡rios de chegada, saÃ­da para almoÃ§o, retorno do almoÃ§o e saÃ­da final.
 
 Os dados devem ser salvos no navegador localStorage para que nÃ£o se percam ao recarregar a pÃ¡gina.
    </pre>
  </div>

  <div class="bloco">
    <h2>ğŸ§± Estrutura HTML</h2>
    <p class="explicacao">ğŸ‘‡ Primeiro, vamos construir o HTML. O cÃ³digo abaixo cria o tÃ­tulo, o campo para o nome e
      os botÃµes de controle.</p>
    <pre>
  <div class="image">
    <img src="./imgtutor/pontohtmlbody.PNG" alt="">
  </div>
</pre>
    <p class="explicacao">ğŸ‘‰ A lista ul com o id="registros-lista" Ã© onde os horÃ¡rios registrados vÃ£o aparecer.</p>
  </div>

  <div class="bloco">

    <h2>ğŸ§© 1. Mapeamento dos Elementos no JavaScript</h2>
    <p class="explicacao">ğŸ‘‡ Para o JavaScript "enxergar" os elementos que criamos no HTML, precisamos mapeÃ¡-los, ou
      seja, guardar cada um em uma variÃ¡vel. Usamos document.getElementById para isso.</p>
    <pre>
  <div class="image">
    <img src="./imgtutor/Mapeamento dos Elementos no JavaScript.PNG" alt="">
  </div>
</pre>
    <p class="explicacao">ğŸ‘‰ Repare que estamos salvando a tag inteira na variÃ¡vel, e nÃ£o seu valor ou seu texto.
      Isso ocorre especificamente pois a variÃ¡vel precisa ser o elemento completo para que vocÃª possa interagir
      com ele, seja para adicionar um evento, modificar seu estilo ou acessar suas propriedades.</p>
  </div>

  <div class="bloco">
    <h2>ğŸ’¾ 2. Criando o localStorage</h2>
    <p class="explicacao">ğŸ‘‡ O localStorage Ã© como uma "memÃ³ria" do seu navegador. Ele permite que os dados
      persistam mesmo depois que vocÃª fecha a pÃ¡gina. Mas ele sÃ³ armazena texto, entÃ£o precisamos de duas funÃ§Ãµes
      especiais para converter nossos dados.</p>
    <p class="explicacao">ğŸ‘‡ let <strong>registrosDePonto</strong> Ã© um array e serve para armazenar todos os objetos de ponto.</p>
    
    <pre>
  <div class="image">
    <img src="./imgtutor/localStorage.PNG" alt="">
  </div>
</pre>
    <p class="explicacao">ğŸ‘‰ Esta programaÃ§Ã£o Ã© crucial. Ela verifica se jÃ¡ existem dados salvos no localStorage do
      navegador. Se houver, ela os carrega; se nÃ£o, ela inicia um array vazio [ ].</p>
    <p class="explicacao">ğŸ”® O localStorage sÃ³ consegue armazenar texto (strings). O nosso array de registros, no
      entanto, Ã© um conjunto de objetos de JavaScript. Para isso temos que usar o JSON.parse().</p>
    <p class="explicacao">ğŸ”® JSON.parse() Ã© uma funÃ§Ã£o que faz o trabalho de converter uma string de texto (que foi
      salva no localStorage) de volta para um objeto ou array de JavaScript, para que possamos manipulÃ¡-lo
      novamente.</p>
    <p class="explicacao">ğŸ”® Se algo dentro do <strong>getItem</strong> existir, o mÃ©todo retorna o
      seu valor (que Ã© sempre uma string).</p>
    <p class="explicacao"><strong>ğŸ‘‰ registrosDePonto </strong> nÃ£o Ã© uma variÃ¡vel e sim o que chamamos de <strong>key "chave"</strong>. Essa key Ã©
      o nome que damos para identificar o que serÃ¡ salvo.</p>
    <p class="explicacao">ğŸ”® Repare que: temos dois registrosDePonto um na cor branca e um na cor amarela. O que estÃ¡ de branco serÃ¡ sempre a referÃªncia a ğŸ‘‰variÃ¡vel, em amarelo Ã© referente a ğŸ‘‰key</p>
    <p class="explicacao">ğŸ”® Se a <strong>chave</strong> nÃ£o existir (por exemplo, na primeira vez que o usuÃ¡rio acessa a pÃ¡gina), o
      mÃ©todo retorna null.</p>
    <p class="explicacao">ğŸ‘‰ || [ ] Este Ã© o operador lÃ³gico "OU". Ele funciona como uma "vÃ¡lvula de seguranÃ§a".</p>
    <p class="explicacao">ğŸ”® O JavaScript avalia a expressÃ£o Ã  esquerda:
      JSON.parse(localStorage.getItem('salvelocal')).</p>
    <p class="explicacao">ğŸ”® Se essa expressÃ£o retornar um valor "falso" (como null, que Ã© o caso quando nÃ£o hÃ¡ dados
      salvos), o operador || ignora o resultado e imediatamente retorna o valor Ã  sua direita, que Ã© [] (um array
      vazio).</p>
    <p class="explicacao">ğŸ”® O que isso significa? Significa que, se nÃ£o houver registros salvos, a variÃ¡vel
      salvelocal nÃ£o ficarÃ¡ com o valor null, mas sim com um array vazio, evitando erros e permitindo que vocÃª
      adicione novos registros sem problemas.</p>
    <p class="explicacao">ğŸ‘‰ Resumindo, a linha <strong>let registrosDePonto = JSON.parse(localStorage.getItem('registrosDePonto')) || [ ];</strong> tenta
      carregar os dados salvos e, se nÃ£o encontrar nada, inicia um array vazio, pronto para ser usado!</p>
  </div>

  <div class="bloco">
    <h2>ğŸ–±ï¸ 3. Conectando os BotÃµes aos Eventos</h2>
    <p class="explicacao">ğŸ‘‡A execuÃ§Ã£o do projeto comeÃ§a quando "ouvimos" os cliques nos botÃµes e dizemos ao
      JavaScript qual funÃ§Ã£o ele deve executar.</p>
      <p class="explicacao">ğŸ”® Repare que: dentro das funÃ§Ãµes dos botÃµes temos, em amarelo, parÃ¢metros sendo passados para as funÃ§Ãµes.</p>
    <pre>
  <div class="image">
    <img src="./imgtutor/evento de clique.PNG" alt="">
  </div>
</pre>
    <p class="explicacao">ğŸ‘‰ O mÃ©todo addEventListener Ã© usado para "escutar" um evento, como o click do mouse.
      Quando o evento acontece, a funÃ§Ã£o dentro dele <strong>registrarPonto</strong> Ã© executada.</p>
    <p class="explicacao">ğŸ‘‰ Em const confirmar = confirm("...") Criamos a variÃ¡vel e a mensagem de confirmaÃ§Ã£o para
      apagar os registros.</p>
    <p class="explicacao">ğŸ‘‰ No botÃ£o de resetar, usamos localStorage.removeItem(...) para apagar a chave de registro <strong>"Key"</strong>
      do navegador, limpando completamente os dados.</p>
    <p class="explicacao">ğŸ‘‰ No if basicamente o navegador mostra uma caixa de diÃ¡logo com dois botÃµes: "OK" e
      "Cancelar". O confirm retorna um valor booleano: true â†’ se o usuÃ¡rio clicou em OK, false â†’ se o usuÃ¡rio
      clicou em Cancelar.</p>

  </div>

  <div class="bloco">
    <h2>ğŸ“ 4. Classe Ponto e Construtor do objeto</h2>
    <p class="explicacao">ğŸ‘‡ Uma classe Ã© um modelo ou molde para criar objetos com caracterÃ­sticas e comportamentos
      semelhantes. Para organizar nossos dados, vamos criar uma class chamada Ponto. Pense nela como uma "fÃ¡brica"
      que cria objetos com a mesma estrutura. Cada objeto Ponto terÃ¡ o nome de uma pessoa e um lugar para guardar
      os horÃ¡rios.</p>

    <p class="explicacao">ğŸ‘‡ NÃ£o esqueÃ§a que estamos falando de horÃ¡rios "Pontualidade" e nÃ£o de pontuaÃ§Ã£o. Por isso
      o nome Ponto na classe.</p>

    <p class="explicacao">ğŸ‘‡ A funÃ§Ã£o constructor Ã© executada quando um novo Ponto Ã© criado. Ela recebe o
      <strong>nome</strong> como parÃ¢metro e jÃ¡ prepara os espaÃ§os para os horÃ¡rios.
    </p>
  <pre>
      <div class="image">
        <img src="./imgtutor/Classe Ponto e Construtor do objeto.PNG" alt="">
      </div>
 </pre>
    <p class="explicacao">ğŸ‘‰ O ponto e vÃ­rgula no fechamento da chave Ã© necessÃ¡rio para finalizar a declaraÃ§Ã£o do
      construtor da classe.</p>
    <p class="explicacao">ğŸ‘‰ chegada: null, saidaAlmoco: null, retornoAlmoco: null, saida: null ğŸ‘‰ SÃ£o chamadas de <strong>propriedades</strong>.</p>
    <p class="explicacao">ğŸ‘‰ O mÃ©todo registrarHora Ã© o coraÃ§Ã£o da nossa classe. Ele recebe o tipo de registro (por
      exemplo, "chegada"). A linha this.registros.hasOwnProperty(tipo) Ã© um mÃ©todo que verifica se um objeto
      possui uma determinada propriedade. Isso evita que vocÃª tente registrar um tipo de ponto que nÃ£o existe,
      como, por exemplo, "janta".</p>
    <p class="explicacao">ğŸ‘‰ O return acontece quando o mÃ©todo de registrar hora nÃ£o acontecer. Neste caso temos o
      return, e nele vocÃª sÃ³ precisa escrever uma mensagem de registro invÃ¡lido.</p>

    <p class="explicacao">ğŸ‘‰ O mÃ©todo registrarHora(tipo) recebe um tipo de horÃ¡rio,
      como chegada, saidaAlmoco, retornoAlmoco ou saida. Se o tipo de horÃ¡rio fornecido for um dos tipos vÃ¡lidos
      do objeto registro, o mÃ©todo atribui a data e hora atuais a esse tipo e, em seguida, retorna a mensagem:
      Ponto de entrada registrado para â€œnome registrado no inputâ€. Caso o tipo de horÃ¡rio nÃ£o seja vÃ¡lido, o
      mÃ©todo retorna uma mensagem de erro. O mÃ©todo obterRegistro serve para recuperar os horÃ¡rios que foram
      registrados. Se apenas um horÃ¡rio foi registrado, ele retorna apenas esse. Se vÃ¡rios horÃ¡rios foram
      registrados, ele retorna todos eles.</p>
  </div>

  <div class="bloco">
    <h2>ğŸ’¾ 5. Salvando e Recuperando Dados com localStorage</h2>

<pre class="pre">
  <div class="image">
    <img src="./imgtutor/Salvando e Recuperando Dados com localStorage.PNG" alt="">
  </div> 
</pre>
    <p class="explicacao">
      ğŸ‘‰ Na funÃ§Ã£o salvarRegistros() o JSON.stringify(registrosDePonto) transforma o array de objetos em uma <strong>string de
        texto</strong> no formato JSON, pois o localStorage sÃ³ consegue guardar texto.
      localStorage.setItem('registrosDePonto') guarda essa string na "key" chamada registrosDePonto (essa Ã© a
      chave, ou seja, o nome que usamos para identificar esse dado). Depois, sempre que precisarmos acessar os
      dados salvos, usamos essa mesma chave.
    </p>

    <p class="explicacao">
      ğŸ‘‰ Na funÃ§Ã£o encontrarPontoPorNome(nome), ela recebe um valor (nome). Usamos o find() para procurar no array o primeiro objeto onde
      ponto.nome seja igual ao nome informado. Os dois sÃ£o convertidos para minÃºsculas com .toLowerCase() para
      evitar problemas com maiÃºsculas/minÃºsculas (por exemplo, "BERNARDO" e "bernardo" sÃ£o tratados como iguais).
      Se encontrar, retorna o objeto inteiro com os registros da pessoa, se nÃ£o encontrar, retorna undefined.
    </p>
  </div>

  <div class="bloco">
    <h2>ğŸ”„ 6. Atualizar a interface</h2>
    <pre class="pre">
      <div class="image2">
        <img src="./imgtutor/atualizar interface1.png" alt="">
   
        <img  src="./imgtutor/atualizar interface2.png" alt="">
     
        <img  src="./imgtutor/atualizar interface3.png" alt="">
      
        <img  src="./imgtutor/atualizar interface4.png" alt="">
      </div> 
    </pre>
    <p class="explicacao">ğŸ‘‰ A funÃ§Ã£o <strong>atualizarInterface()</strong> Ã© responsÃ¡vel por atualizar o que o usuÃ¡rio vÃª na
      tela, exibindo os nomes e horÃ¡rios registrados.</p>
    <p class="explicacao">ğŸ‘‰ <strong>registrosLista.innerHTML = ''</strong> Ã© a variÃ¡vel que recebeu nosso id da ul, passamos nada pra ela, para evitar duplicaÃ§Ã£o.</p>
    <p class="explicacao">ğŸ‘‰ O <strong>if (registrosDePonto.length === 0)</strong> verifica se hÃ¡ registros. Se for 0, significa que ninguÃ©m registrou ponto
      ainda, entÃ£o mostra apenas a mensagem "Nenhum registro encontrado" e sai da funÃ§Ã£o com return.</p>
      <p class="explicacao">ğŸ‘‰pontoğŸ‘ˆ dentro do forEach Ã© o parÃ¢metro que usamos prÃ³prio do forEach para o item atual, ele sÃ³ estÃ¡ com o nome de ponto. 
        Esse item atual Ã© em relaÃ§Ã£o ao array registrosDePonto que criamos lÃ¡ na parte do localStorage.</p>
    <p class="explicacao">ğŸ‘‰ No <strong>forEach</strong>, para cada item do nosso array de registrosDePonto, criamos uma li com divs para a pessoa,
      ou seja: O forEach serve para criar o HTML de cada pessoa que tem um ponto salvo. Primeiro adiciona o nome da pessoa dentro da div class="nome-pessoa". 
      Depois, na div class="horarios-ponto" Ã© uma div que fica aberta por enquanto, pois vamos criar mais divs dentro dela.</p>
      <p class="explicacao">ğŸ‘‰ const registros = ponto.registros Ã© a variÃ¡vel registros e recebe o item com tudo que tem dentro dele, como uma referÃªncia</p>
    <p class="explicacao">ğŸ‘‰ <strong>for in...</strong> percorremos todos as chaves de registros, que na verdade tem tudo o que foi registrado dentro dela, cada volta que o for faz ele usa um dos tipos por exemplo: chegada, saidaAlmoco etc. Isso significa que, para cada tipo de registro feito, serÃ¡ executado a programaÃ§Ã£o dentro do for.</p>
    <p class="explicacao">ğŸ‘‰ console.log("Registro tipo = "+registros[tipo]) Ã© o horÃ¡rio</p>
    <p class="explicacao">ğŸ‘‰ console.log(tipo) Ã© a chegada, saidaAlmoÃ§o etc...</p>
    <p class="explicacao">ğŸ‘‰ No if, se ele achar um horÃ¡rio, entÃ£o ele formata os textos. Essa formataÃ§Ã£o acontece pelo switch case, cada caso Ã© um tipo que formata verificando o valor desse tipo, default e para caso termos outro tipo de ponto que nÃ£o existir. Ele nÃ£o vai formatar o texto mas irÃ¡ rodar o cÃ³digo mostrando esse tipo. Exemplo, horas extras.</p>
    <p class="explicacao">ğŸ‘‰ <strong>html +=</strong> Adicionamos para a variÃ¡vel html uma div com a classe item-ponto, jÃ¡ com todo css dentro dela. Teremos uma div com a variÃ¡vel tipoFormatado, para mostrar o tipo de ponto, tambÃ©m teremos outra div com a variÃ¡vel registros[tipo] que Ã© o horario</p>
    <p class="explicacao">ğŸ‘‰ Fora do for temos a variÃ¡vel html recebendo e acrescentando ao que jÃ¡ temos nela, o fechamento das tags da div principal e da li.</p>
    <p class="explicacao">ğŸ‘‰ Por Ãºltimo temos a variÃ¡vel registrosLista, que Ã© a variÃ¡vel que recebeu o id da lista ul. Essa variÃ¡vel vai receber a outra variÃ¡vel html escrevendo no <strong>html.registrosLista.innerHTML += html</strong></p>
  </div>

  <div class="bloco">
    <h2>ğŸ° 7. FunÃ§Ã£o principal para registrar ponto</h2>
    <p class="explicacao">ğŸ‘‡<strong> A funÃ§Ã£o abaixo</strong> Ã© a mais importante de todas.</p>
<pre class="pre">
  <div class="image">
    <img src="./imgtutor/registrar ponto.PNG" alt="">
  </div> 
</pre>
    <p class="explicacao">ğŸ‘‰ A funÃ§Ã£o <strong>registrarPonto(tipo)</strong> Ã© a principal, pois gerencia todo o
      processo: verifica se o nome foi inserido, busca o registro da pessoa, cria um novo se nÃ£o existir, registra
      a hora do ponto, salva os dados no localStorage e, por fim, atualiza a interface.</p>
    <p class="explicacao">ğŸ‘‰ A primeira coisa que essa funÃ§Ã£o faz Ã© receber o que estÃ¡ sendo passado pelos botÃµes. Lembrando que quando clicamos em algum botÃ£o estamos passando o tipo de ponto desse botÃ£o, exemplo: chegada.</p>
    <p class="explicacao">ğŸ‘‰ Depois de receber o valor de algum botÃ£o, a variÃ¡vel nome recebe o valor da variÃ¡vel do input de nome com nomeInput.value e
      usar o .trim() para remover espaÃ§os em branco no inÃ­cio e no fim. Em seguida, o if (!nome) verifica se a
      string nome estÃ¡ vazia ou se contÃ©m apenas espaÃ§os. Se nÃ£o tiver um nome, um alert Ã© exibido e a funÃ§Ã£o para
      com return.</p>
    <p class="explicacao">ğŸ‘‰ Depois, a linha let pontoDoDia = encontrarPontoPorNome(nome) usa a funÃ§Ã£o auxiliar que
      criamos para procurar se jÃ¡ existe um registro para o nome digitado. Se o registro for encontrado, ele serÃ¡
      atribuÃ­do Ã  variÃ¡vel pontoDoDia; se nÃ£o, a variÃ¡vel serÃ¡ undefined.</p>
    <p class="explicacao">ğŸ‘‰ A prÃ³xima linha if (!pontoDoDia) verifica se o registro nÃ£o foi encontrado. Se for
      true, significa que Ã© a primeira vez que essa pessoa estÃ¡ registrando um ponto. Nesse caso, a linha
      pontoDoDia = new Ponto(nome) cria um novo objeto usando a nossa classe Ponto, e a linha
      registrosDePonto.push(pontoDoDia) adiciona esse novo objeto ao nosso array principal.</p>
    <p class="explicacao">ğŸ‘‰ Por fim, a linha pontoDoDia.registrarHora(tipo) chama o mÃ©todo da nossa classe para
      registrar o horÃ¡rio do ponto. Em seguida, as funÃ§Ãµes salvarRegistros() e atualizarInterface() sÃ£o chamadas
      para garantir que os dados estejam salvos e a interface seja atualizada. A linha nomeInput.value =
      &#39;&#39; limpa o campo de nome, deixando-o pronto para o prÃ³ximo registro.</p>

    <div class="bloco">
      <h2>ğŸ“º 8. InicializaÃ§Ã£o e carregamento do relogio ponto</h2>

<pre class="pre">
  <div class="image">
    <img src="./imgtutor/chamadaatualizarinterface.PNG" alt="">
  </div> 
</pre>
      <p class="explicacao">ğŸ‘‰ Chamamos a funÃ§Ã£o atualizarInterface fora de tudo, para que quando iniciar a pagina jÃ¡ mostrar tudo que existe no localStorage</p>

    </div>

    <div class="bt">
      <button class="voltar">
        <a href="./jogo9.html">Voltar</a>
      </button>
      <button class="circle"><a href="./index.html">01</a></button>
    <button class="circle"><a href="./projeto2.html">02</a></button>
    <button class="circle"><a href="./projeto3.html">03</a></button>
    <button class="circle"><a href="./projeto4.html">04</a></button>
    <button class="circle"><a href="./projeto5.html">05</a></button>
    <button class="circle"><a href="./projeto6.html">06</a></button>
    <button class="circle"><a href="./projeto7.html">07</a></button>
    <button class="circle"><a href="./projeto8.html">08</a></button>
    <button class="circle"><a href="./projeto9.html">09</a></button>
    <button class="circle"><a href="./projeto10.html">10</a></button>
    <button class="circle"><a href="./projeto11.html">11</a></button>
    <button class="circle"><a href="./projeto12.html">12</a></button>
    <button class="circle"><a href="./projeto13.html">13</a></button>
    <button class="circle"><a href="./projeto14.html">14</a></button>
    <button class="circle"><a href="./projeto15.html">15</a></button>
      <button class="avancar">
        <a href="./jogo11.html">AvanÃ§ar</a>
      </button>
    </div>
    <script src="./script.js"></script>
</body>

</html>